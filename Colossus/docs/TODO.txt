Bug: Split prediction
Green's turn, number 6
- From client Green: doSplit ~ Gr06 ~ Gr01 ~ Ogre,Ogre
2 creatures are split off from legion Gr06 (Frog) into new legion Gr01 (Cauldron)
- split() for Gr06(1): Angel? Troll* Troll* Centaur? Ogre Ogre Ogre* 2 Gr01 6
- chooseCreaturesToSplitOut() Gr06(1): Angel? Troll* Troll* Centaur? Ogre Ogre Ogre* 2 [] []
- child1: Gr06(6): Angel? Troll? Troll? Centaur? Ogre?
- child2: Gr01(6): Ogre? Ogre?
- split() for Gr06(1): Angel? Troll* Troll* Centaur? Ogre Ogre Ogre* 2 Gr01 6
- chooseCreaturesToSplitOut() Gr06(1): Angel? Troll* Troll* Centaur? Ogre Ogre Ogre* 2 [] []
- child1: Gr06(6): Angel? Troll? Troll? Centaur? Ogre?
- child2: Gr01(6): Ogre? Ogre?
- split() for Gr06(1): Angel? Troll* Troll* Centaur? Ogre Ogre Ogre* 2 Gr01 6
- chooseCreaturesToSplitOut() Gr06(1): Angel? Troll* Troll* Centaur? Ogre Ogre Ogre* 2 [] []
- child1: Gr06(6): Angel? Troll? Troll? Centaur? Ogre?
- child2: Gr01(6): Ogre? Ogre?
- split() for Gr06(1): Angel? Troll* Troll* Centaur? Ogre Ogre Ogre* 2 Gr01 6
- chooseCreaturesToSplitOut() Gr06(1): Angel? Troll* Troll* Centaur? Ogre Ogre Ogre* 2 [] []
- child1: Gr06(6): Angel? Troll? Troll? Centaur? Ogre?
- child2: Gr01(6): Ogre? Ogre?
- split() for Gr06(1): Angel? Troll* Troll* Centaur? Ogre Ogre Ogre* 2 Gr01 6
- chooseCreaturesToSplitOut() Gr06(1): Angel? Troll* Troll* Centaur? Ogre Ogre Ogre* 2 [] []
- child1: Gr06(6): Angel? Troll? Troll? Centaur? Ogre?
- child2: Gr01(6): Ogre? Ogre?
- harmless java.util.ConcurrentModificationException
- split() for Gr06(1): Titan Troll* Troll* Gargoyle Ogre Ogre Ogre* 2 Gr01 6
- chooseCreaturesToSplitOut() Gr06(1): Titan Troll* Troll* Gargoyle Ogre Ogre Ogre* 2 [Ogre, Ogre] []
- child1: Gr06(6): Titan? Troll? Troll? Gargoyle? Ogre?
- child2: Gr01(6): Ogre Ogre
- revealSomeCreatures() for Gr06(6): Titan? Troll? Troll? Gargoyle? Ogre? [Titan, Troll, Troll, Gargoyle, Ogre]
- revealSomeCreatures() Gr06(6): Titan Troll Troll Gargoyle Ogre
- tellChildContents for node Gr06(1): Titan Troll* Troll* Gargoyle Ogre Ogre Ogre* from node Gr06(6): Titan Troll Troll Gargoyle Ogre
- child atSplit is [Titan, Troll, Troll, Gargoyle, Ogre]
- revealSomeCreatures() for Gr01(6): Ogre Ogre [Ogre, Ogre]
- From client Green: doneWithSplits
Phase advances to Move
Green rolls a 4 for movement
- considering risk of leaving Gr06 in Marsh hex 27
- EVAL Gr06 stay in Marsh hex 27 = 9
- --- if Gr06 moves to Brush hex 127 then recruit Gargoyle (adding 12)
- considering risk of moving Gr06 to Brush hex 127
- EVAL Gr06 move to Brush hex 127 = 13
- --- if Gr06 moves to Jungle hex 33 then recruit Gargoyle (adding 12)
- considering risk of moving Gr06 to Jungle hex 33
- EVAL Gr06 move to Jungle hex 33 = 18
- --- if Gr06 moves to Brush hex 31 then recruit Gargoyle (adding 12)
- considering risk of moving Gr06 to Brush hex 31
- EVAL Gr06 move to Brush hex 31 = 21
- From client Green: doMove ~ Gr06 ~ 31 ~ Bottom ~ false ~ null
Legion Gr06 (Frog) in 27 moves to Brush hex 31 entering on Bottom
- considering risk of leaving Gr07 in Plains hex 110
- EVAL Gr07 stay in Plains hex 110 = 6
- legion Gr07 can attack Bu06 in Marsh hex 108 and WIN_WITH_MINIMAL_LOSSES
- considering risk of moving Gr07 to Marsh hex 108
- EVAL Gr07 move to Marsh hex 108 = 8
- considering risk of moving Gr07 to Swamp hex 14
- EVAL Gr07 move to Swamp hex 14 = 9
- From client Green: doMove ~ Gr07 ~ 14 ~ Bottom ~ false ~ null
Legion Gr07 (Grapple) in 110 moves to Swamp hex 14 entering on Bottom
- considering risk of leaving Gr01 in Marsh hex 27
- EVAL Gr01 stay in Marsh hex 27 = 4
- considering risk of moving Gr01 to Brush hex 127
- EVAL Gr01 move to Brush hex 127 = 1
- considering risk of moving Gr01 to Jungle hex 33
- EVAL Gr01 move to Jungle hex 33 = 1
- considering risk of leaving Gr12 in Jungle hex 12
- EVAL Gr12 stay in Jungle hex 12 = 4
- considering risk of moving Gr12 to Plains hex 110
- EVAL Gr12 move to Plains hex 110 = 4
- From client Green: doneWithMoves
Phase advances to Fight
Phase advances to Muster
- From client Green: doRecruit ~ Gr06 ~ Gargoyle ~ Gargoyle
Legion Gr06 (Frog) in Brush hex 31 recruits Gargoyle with 1 Gargoyle
- revealSomeCreatures() for Gr06(6): Angel? Troll? Troll? Centaur? Ogre? [Gargoyle]
- revealSomeCreatures() Gr06(6): Angel? Troll? Troll? Gargoyle Centaur?
- tellChildContents for node Gr06(1): Angel? Troll* Troll* Centaur? Ogre Ogre Ogre* from node Gr06(6): Angel? Troll? Troll? Gargoyle Centaur?
- child atSplit is [Angel?, Troll?, Troll?, Gargoyle, Centaur?]
- Re-predicting parent split
- revealSomeCreatures() for Gr06(1): Angel? Troll* Troll* Centaur? Ogre Ogre Ogre* [Angel, Troll, Troll, Gargoyle, Centaur]
Error: Certainty error in revealSomeCreatures -- count is 8 height is 7
Error: No uncertain creatures
- revealSomeCreatures() Gr06(1): Angel Troll* Troll* Gargoyle Centaur Ogre Ogre Ogre*
- tellChildContents for node Gr07(0): Titan Angel Gargoyle Gargoyle Centaur Centaur Ogre Ogre from node Gr06(1): Angel Troll* Troll* Gargoyle Centaur Ogre Ogre Ogre*
- child atSplit is [Angel, Gargoyle, Centaur, Ogre, Ogre]
- split() for Gr07(0): Titan Angel Gargoyle Gargoyle Centaur Centaur Ogre Ogre 4 Gr06 -1
- chooseCreaturesToSplitOut() Gr07(0): Titan Angel Gargoyle Gargoyle Centaur Centaur Ogre Ogre 4 [Angel, Gargoyle, Centaur, Ogre, Ogre] [Gargoyle, Centaur]
Error: More known splitoffs than splitoffs
java.lang.NullPointerException
        at net.sf.colossus.client.Node.split(PredictSplits.java:708)
        at net.sf.colossus.client.Node.split(PredictSplits.java:662)
        at net.sf.colossus.client.Node.tellChildContents(PredictSplits.java:871)
        at net.sf.colossus.client.Node.revealSomeCreatures(PredictSplits.java:494)
        at net.sf.colossus.client.Node.tellChildContents(PredictSplits.java:864)
        at net.sf.colossus.client.Node.revealSomeCreatures(PredictSplits.java:494)
        at net.sf.colossus.client.LegionInfo.revealCreatures(LegionInfo.java:228)
        at net.sf.colossus.client.Client.revealCreatures(Client.java:1124)
        at net.sf.colossus.client.Client.didRecruit(Client.java:1994)
        at net.sf.colossus.client.SocketClientThread.callMethod(SocketClientThread.java:317)
        at net.sf.colossus.client.SocketClientThread.parseLine(SocketClientThread.java:105)
        at net.sf.colossus.client.SocketClientThread.run(SocketClientThread.java:86)
   (Same exception for other clients.)


Bug: split prediction  8-high legion
 split() for Bk03(19): Titan? Warlock? Warlock? Ranger Ranger* Troll Troll* Gargoyle? 2 Bk07 24
- chooseCreaturesToSplitOut() Bk03(19): Titan? Warlock? Warlock? Ranger Ranger* Troll Troll* Gargoyle? 2 [] []
net.sf.colossus.client.PredictSplitsException: Illegal initial split
        at net.sf.colossus.client.Node.chooseCreaturesToSplitOut(PredictSplits.java:578)
        at net.sf.colossus.client.Node.split(PredictSplits.java:705)
        at net.sf.colossus.client.LegionInfo.split(LegionInfo.java:233)
        at net.sf.colossus.client.Client.didSplit(Client.java:3618)
        at net.sf.colossus.client.SocketClientThread.callMethod(SocketClientThread.java:431)
        at net.sf.colossus.client.SocketClientThread.parseLine(SocketClientThread.java:105)
        at net.sf.colossus.client.SocketClientThread.run(SocketClientThread.java:86)

Bug: predict splits, Another 8-high legion
Legion Gr09 (Lobster) in Brush hex 127 recruits Gorgon with 2 Cyclopes
- revealSomeCreatures() for Gr09(7): Titan Angel? Warlock* Gorgon? Cyclops? Cyclops? Cyclops? [Cyclops, Cyclops]
- revealSomeCreatures() Gr09(7): Titan Angel? Warlock* Gorgon? Cyclops Cyclops Cyclops?
- tellChildContents for node Gr09(5): Titan Angel Gorgon* Cyclops Cyclops? Cyclops* Ogre from node Gr09(7): Titan Angel? Warlock* Gorgon? Cyclops Cyclops Cyclops?
- child atSplit is [Titan, Angel?, Gorgon?, Cyclops, Cyclops, Cyclops?]
- addCreature() Gr09(7): Titan Angel? Warlock* Gorgon? Cyclops Cyclops Cyclops? : Gorgon
net.sf.colossus.client.PredictSplitsException: Tried adding to 7-high legion
        at net.sf.colossus.client.Node.addCreature(PredictSplits.java:911)
        at net.sf.colossus.client.LegionInfo.addCreature(LegionInfo.java:217)
        at net.sf.colossus.client.Client.addCreature(Client.java:1100)
        at net.sf.colossus.client.Client.didRecruit(Client.java:1996)
        at net.sf.colossus.client.SocketClientThread.callMethod(SocketClientThread.java:317)
        at net.sf.colossus.client.SocketClientThread.parseLine(SocketClientThread.java:105)
        at net.sf.colossus.client.SocketClientThread.run(SocketClientThread.java:86)


Bug: AI player didn't move at start of turn 2.  Just froze.
   Default, 1 human + 3 random AIs, first player froze.  Linux, 1.4.1.01

Bug: The duplicate name detection code for network players is now
   failing with the new initialization timing -- oscillating fixNames
   between dripton and dripton4

Bug: Chat window went modal and started beeping.  Killing it from the
   Graphics menu worked.

Bug: 2-high titan stack did not run away even though it could be caught
   on 4-6 by a 6-high stack:
Gold rolls a 4 for movement
considering risk of leaving Gd01 in Brush hex 109
got enemies that can attack on a 1 :[Rd04]
got enemies that can attack on a 2 :[Rd04, Rd11]
got enemies that can attack on a 3 :[Rd04, Rd11]
got enemies that can attack on a 4 :[Rd02, Rd04, Rd11]
got enemies that can attack on a 5 :[Rd01, Rd02, Rd04, Rd11]
got enemies that can attack on a 6 :[Rd01, Rd02, Rd04, Rd11]
EVAL Gd01 stay in Brush hex 109 = 0
considering risk of moving Gd01 to Plains hex 105
got enemies that can attack on a 5 :[Bu03]
got enemies that can attack on a 6 :[Bu03]
EVAL Gd01 move to Plains hex 105 = 0

Bug: Titan teleport onto chaff stack in tower, 1 warlock left, recruitChit
   shows ogre instead of warlock.

Bug: Loaded a game with 2 human players and 4 AIs.  Only got one board.

Bug: One-high stacks not visible unless ShowLegion window is manually
   enlarged.  Need to make it bigger.  Linux, KDE, 1.4.1_01

Bug: Enemy had two stacks, one fully known and one fully unknown.  Should
   have been fully known by process of elimination.

Out of memory error after many consecutive Load Game actions.

Compute numLegions, numMarkers, numCreatures, titan power, total point value
   on client side rather than passing them in player info.

Turn off wait cursor more often.

Remove look and feel menu.

Indicate which players have titan teleport in StatusScreen.

Synchronize repaints in StatusScreen so yellow moves all at once.

Save random seed in savegame?

Do not scale chits in CreatureCollectionView

Allow clearing recruit chits, displaying stuff during other players' turns.

Finish EngagementResults:
   Non-overlapping dialogs?  Make it a tabbled dialog?
   Add game turn number.
   Options (Show at all?  Show for own battles?)
   Show legion contents before and after battle

Animated timer showing time left for AI in battles.

Have server send marker names.

Toolbar, or at least Done button.

Change some JDialogs to JFrames to allow separate minimizing?

When saving game explicitly (not with autosave), log the event
   and the full savegame path.

Disable "AIs stop when humans dead" if no human players at start of game.

Should be able to move recruit chart behind board, map.

Add link from client to LogWindow; advance scroll thumb at end of various
   phases. 

Should be able to clear recruitChits in any phase.  Move to Graphics menu?

Real whole-legion battle eval function, including gang hits.

Ability to dismiss and recall recruit markers.

Finish split prediction.

Refactor to eliminate duplicate code.

Machine learning to tweak AI constants.

Improve networking.  (Persistent servers, reporting game openings to web page.)

When getting both a PickRecruit and an AcquireAngel after a battle,
   make sure the PickRecruit is on top, because it's modal.
   Or make PickRecruit non-modal.

Colorize chat window.

Observer clients.

Sometimes refuse remote newGame/loadGame/saveGame calls?

Cleanup network shutdown -- when game over or player eliminated, don't
   whine if its client drops.

Set Client movementRoll when loading during movement phase after roll.
Set which legions have recruited when loading during recruit phase.

Change Quit button in GetPlayers dialog to Cancel.  Go back to existing 
   game if there is one from Cancel, or quit if just starting.  Eliminate
   confirmation before calling dialog.

L&F should not show Windows if not allowed on this platform.
Kunststoff L&F in swing.properties file fails.  Works in player cfg file.
Add Kunststoff L&F to jar file?

Add "no 2s or 5s" mulligan option.
Add optional additional handicap mulligans that can be used after turn 1.

Add UI for players to specify favorite colors.

Put old, new web pages under CVS.
Switch to new XWeb web page.
Use SF project releases.

ShowLegion on mouseover, not click, with permanent dialog.
Show zoomed area around mouse cursor in a small window, for Abyssal9.

Add confirm dialogs (for conceding with titan, skipping recruits, ...)

Make BattleMap less tall.
Highlight entrances somehow.  Maybe use fixed boxes with an arrow to
   show entry side, instead of cascading.

XML game history log

Write more design docs.

Add SetupBattle dialog, to allow setting up standalone battles.
   (terrain, entry side, creatures in attacking and defending legions,
   angel/archangel available to summon, recruits available for terrain
   type, player scores for titan power.)

Add a ShowLegionMarkers window that shows each player's remaining 
   legion markers.

Add movement and recruit animation.  Requires returning full paths for
   moves, not just destination hex.
